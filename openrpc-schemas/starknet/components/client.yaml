CHAIN_ID:
  title: Chain id
  description: StarkNet chain id, given in hex representation.
  type: string
  pattern: "^0x[a-fA-F0-9]+$"

FEE_ESTIMATE:
  title: Fee estimation
  type: object
  required:
    - gas_consumed
    - gas_price
    - data_gas_consumed
    - data_gas_price
    - overall_fee
    - unit
  properties:
    gas_consumed:
      title: Gas consumed
      description: The Ethereum gas consumption of the transaction
      $ref: "#/components/schemas/FELT"
    gas_price:
      title: Gas price
      description: >
        The gas price (in wei or fri, depending on the tx version) that was used in the cost estimation
      $ref: "#/components/schemas/FELT"
    data_gas_consumed:
      title: Data gas consumed
      description: The Ethereum data gas consumption of the transaction
      $ref: "#/components/schemas/FELT"
    data_gas_price:
      title: Data gas price
      description: >
        The data gas price (in wei or fri, depending on the tx version) that was used in the cost estimation
      $ref: "#/components/schemas/FELT"
    overall_fee:
      title: Overall fee
      description: >
        The estimated fee for the transaction (in wei or fri, depending on the tx version), equals to gas_consumed * gas_price + data_gas_consumed * data_gas_price
      $ref: "#/components/schemas/FELT"
    unit:
      title: Fee unit
      description: Units in which the fee is given
      $ref: "#/components/schemas/PRICE_UNIT"

FEE_PAYMENT:
  title: Fee Payment
  description: Fee payment info as it appears in receipts
  type: object
  required:
    - amount
    - unit
  properties:
    amount:
      title: Amount
      description: Amount paid
      $ref: "#/components/schemas/FELT"
    unit:
      title: Fee unit
      description: Units in which the fee is given
      $ref: "#/components/schemas/PRICE_UNIT"

RESOURCE_PRICE:
  type: object
  required:
    - price_in_wei
    - price_in_fri
  properties:
    price_in_fri:
      title: Price in fri
      description: >
        The price of one unit of the given resource, denominated in fri (10^-18 strk)
      $ref: "#/components/schemas/FELT"
    price_in_wei:
      title: Price in wei
      description: The price of one unit of the given resource, denominated in wei
      $ref: "#/components/schemas/FELT"

RESOURCE_BOUNDS_MAPPING:
  type: object
  required:
    - l1_gas
    - l2_gas
  properties:
    l1_gas:
      title: L1 Gas
      description: The max amount and max price per unit of L1 gas used in this transaction
      $ref: "#/components/schemas/RESOURCE_BOUNDS"
    l2_gas:
      title: L2 Gas
      description: The max amount and max price per unit of L2 gas used in this transaction
      $ref: "#/components/schemas/RESOURCE_BOUNDS"

RESOURCE_BOUNDS:
  type: object
  required:
    - max_amount
    - max_price_per_unit
  properties:
    max_amount:
      title: Max amount
      description: The max amount of the resource that can be used in the transaction
      $ref: "#/components/schemas/u64"
    max_price_per_unit:
      title: Max price per unit
      description: The max price per unit of this resource for this transaction
      $ref: "#/components/schemas/u128"

COMPUTATION_RESOURCES:
  title: Computation resources
  description: The resources consumed by the VM
  type: object
  required:
    - steps
  properties:
    steps:
      title: Steps
      description: The number of Cairo steps used
      type: integer
      not:
        const: 0
    memory_holes:
      title: Memory holes
      description: The number of unused memory cells (each cell is roughly equivalent to a step)
      type: integer
      not:
        const: 0
    range_check_builtin_applications:
      title: Range check applications
      description: The number of RANGE_CHECK builtin instances
      type: integer
      not:
        const: 0
    pedersen_builtin_applications:
      title: Pedersen applications
      description: The number of Pedersen builtin instances
      type: integer
      not:
        const: 0
    poseidon_builtin_applications:
      title: Poseidon applications
      description: The number of Poseidon builtin instances
      type: integer
      not:
        const: 0
    ec_op_builtin_applications:
      title: EC_OP applications
      description: The number of EC_OP builtin instances
      type: integer
      not:
        const: 0
    ecdsa_builtin_applications:
      title: ECDSA applications
      description: The number of ECDSA builtin instances
      type: integer
      not:
        const: 0
    bitwise_builtin_applications:
      title: BITWISE applications
      description: The number of BITWISE builtin instances
      type: integer
      not:
        const: 0
    keccak_builtin_applications:
      title: Keccak applications
      description: The number of KECCAK builtin instances
      type: integer
      not:
        const: 0
    segment_arena_builtin:
      title: Segment arena
      description: The number of accesses to the segment arena
      type: integer
      not:
        const: 0

EXECUTION_RESOURCES:
  type: object
  title: Execution resources
  description: The resources consumed by the transaction, includes both computation and data
  allOf:
    - $ref: "#/components/schemas/COMPUTATION_RESOURCES"
    - type: object
      title: Data Resources
      required:
        - data_availability
      properties:
        data_availability:
          type: object
          required:
            - l1_gas
            - l1_data_gas
          properties:
            l1_gas:
              title: L1 Gas
              description: >
                The gas consumed by this transaction's data, 0 if it uses data gas for DA
              type: integer
            l1_data_gas:
              title: L1 Data Gas
              description: >
                The data gas consumed by this transaction's data, 0 if it uses gas for DA
              type: integer

FUNCTION_CALL:
  title: Function call
  type: object
  description: Function call information
  required:
    - contract_address
    - entry_point_selector
    - calldata
  properties:
    contract_address:
      title: Contract address
      $ref: "#/components/schemas/ADDRESS"
    entry_point_selector:
      title: Entry point selector
      $ref: "#/components/schemas/FELT"
    calldata:
      title: Calldata
      type: array
      description: The parameters passed to the function
      items:
        $ref: "#/components/schemas/FELT"
