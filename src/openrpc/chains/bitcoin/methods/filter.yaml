- name: getindexinfo
  summary: Get information about one or all available indices
  description: >
    Returns the state of one or all available indices currently running. 
    You can optionally filter the results by a specific index name.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params:
    - name: index_name
      required: false
      description: >
        Filter results for an index with a specific name.
      schema:
        type: string
  result:
    name: result
    description: A mapping of index names to their respective info.
    schema:
      type: object
      additionalProperties:
        type: object
        properties:
          txindex:
            type: string
            description: The index name.
          synced:
            type: boolean
            description: Whether the index is fully synced.
          best_block_height:
            type: integer
            description: The block height to which the index is synced.
  examples:
    - name: getindexinfo example
      params:
        - name: index_name
          value: "txindex"
      result:
        name: result
        value:
          txindex:
            synced: true
            best_block_height: 894717

- name: getmempoolancestors
  summary: Get mempool ancestors of a transaction
  description: >
    Returns the in-mempool ancestors of a given transaction.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params:
    - name: txid
      required: true
      description: The transaction ID whose ancestors to retrieve.
      schema:
        $ref: "#/components/schemas/BTC_TX_ID"
    - name: verbose
      required: false
      description: Whether to return detailed info (true) or just txids (false).
      schema:
        type: boolean
        default: false
  result:
    name: result
    description: The mempool ancestors of the specified transaction.
    schema:
      oneOf:
        - type: array
          description: A list of ancestor transaction IDs.
          items:
            $ref: "#/components/schemas/BTC_TX_ID"
        - type: object
          additionalProperties:
            type: object
            properties:
              size:
                type: integer
              fee:
                type: number
              modifiedfee:
                type: number
              time:
                type: integer
              descendantcount:
                type: integer
              ancestorcount:
                type: integer
              depends:
                type: array
                items:
                  type: string
              spentby:
                type: array
                items:
                  type: string
  examples:
    - name: Non-verbose example
      params:
        - name: txid
          value: "b86ae732473ff2c91c04073ec9cbef5e4ddaa701741e141e41345df72122b795"
        - name: verbose
          value: false
      result:
        name: result
        value:
          - "6f8c6e8d3021d8a1db71eae3cb8db00f1c99d0f94f3b5782e6cfc155b55f3c55"
          - "a4d47b8bdee5f5b8c098c9ac9aa4e3ec113d9f305a4f723d617a92439ab244cb"

    - name: Verbose example
      params:
        - name: txid
          value: "b86ae732473ff2c91c04073ec9cbef5e4ddaa701741e141e41345df72122b795"
        - name: verbose
          value: true
      result:
        name: result
        value:
          "6f8c6e8d3021d8a1db71eae3cb8db00f1c99d0f94f3b5782e6cfc155b55f3c55":
            size: 237
            fee: 0.00001000
            modifiedfee: 0.00001100
            time: 1714400000
            descendantcount: 2
            ancestorcount: 3
            depends:
              - "abcd1234abcd1234abcd1234abcd1234abcd1234abcd1234abcd1234abcd1234"
            spentby:
              - "fe5289e5f1f32f2a45c85b2e351c5edebf7f76aa86e31bb8a2983d4f8d95a63a"

- name: getmempooldescendants
  summary: Get mempool descendants of a transaction
  description: >
    Returns the in-mempool descendants of a given transaction.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params:
    - name: txid
      required: true
      description: The transaction ID whose descendants to retrieve.
      schema:
        $ref: "#/components/schemas/BTC_TX_ID"
    - name: verbose
      required: false
      description: Whether to return detailed info (true) or just txids (false).
      schema:
        type: boolean
        default: false
  result:
    name: result
    description: The mempool descendants of the specified transaction.
    schema:
      oneOf:
        - type: array
          description: A list of descendant transaction IDs.
          items:
            $ref: "#/components/schemas/BTC_TX_ID"
        - type: object
          additionalProperties:
            type: object
            properties:
              size:
                type: integer
              fee:
                type: number
              modifiedfee:
                type: number
              time:
                type: integer
              descendantcount:
                type: integer
              ancestorcount:
                type: integer
              depends:
                type: array
                items:
                  $ref: "#/components/schemas/BTC_TX_ID"
              spentby:
                type: array
                items:
                  $ref: "#/components/schemas/BTC_TX_ID"
  examples:
    - name: Non-verbose example
      params:
        - name: txid
          value: "546263a196ce5cf674d5002afc0231ab417c2e971fd4ed1735c7a4c63f44720b"
        - name: verbose
          value: false
      result:
        name: result
        value:
          - "c3b9f342fc90837fd4a22878b59fdf5cdeae1b4e4586224b0df1b3a2e3e6e9c8"
          - "a2e34d98cb7e98b8d85d3a991c8d1cbd3e7a3f17b4acdf4768c88fa3e0e9d8bc"

    - name: Verbose example
      params:
        - name: txid
          value: "546263a196ce5cf674d5002afc0231ab417c2e971fd4ed1735c7a4c63f44720b"
        - name: verbose
          value: true
      result:
        name: result
        value:
          "c3b9f342fc90837fd4a22878b59fdf5cdeae1b4e4586224b0df1b3a2e3e6e9c8":
            size: 192
            fee: 0.00001200
            modifiedfee: 0.00001300
            time: 1714400500
            descendantcount: 1
            ancestorcount: 1
            depends:
              - "fe84b3e08b3f434a8d36b37c4b5a2dcd73f8e95c9b5b7ed46cc6ef3d3c5b2cdd"
            spentby: []

- name: getrawmempool
  summary: Get raw mempool transaction data
  description: >
    Returns either a list of transaction IDs currently in the mempool or detailed metadata
    for each transaction, depending on the verbosity level.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params:
    - name: verbose
      required: false
      description: >
        If true, returns detailed info per transaction. If false, returns a list of txids.
      schema:
        type: boolean
        default: false
    - name: mempool_sequence
      required: false
      description: >
        When verbose is false, includes mempool sequence number in the response.
      schema:
        type: boolean
        default: false
  result:
    name: result
    description: Mempool data depending on verbosity level.
    schema:
      oneOf:
        - type: object
          required:
            - txids
            - mempool_sequence
          properties:
            txids:
              type: array
              description: List of transaction IDs in the mempool.
              items:
                $ref: "#/components/schemas/BTC_TX_ID"
            mempool_sequence:
              type: integer
              description: The mempool sequence number.
        - type: object
          description: Map of txid to transaction metadata when verbose is true.
          additionalProperties:
            type: object
            properties:
              vsize:
                type: integer
                description: Virtual transaction size (vbytes).
              weight:
                type: integer
                description: Transaction weight as defined in BIP 141.
              time:
                type: integer
                description: UNIX timestamp when transaction entered mempool.
              height:
                type: integer
                description: Block height when the transaction entered mempool.
              descendantcount:
                type: integer
              descendantsize:
                type: integer
              ancestorcount:
                type: integer
              ancestorsize:
                type: integer
              wtxid:
                $ref: "#/components/schemas/BTC_TX_ID"
              fees:
                type: object
                properties:
                  base:
                    type: number
                  modified:
                    type: number
                  ancestor:
                    type: number
                  descendant:
                    type: number
              depends:
                type: array
                items:
                  type: string
              spentby:
                type: array
                items:
                  type: string
              bip125-replaceable:
                type: boolean
              unbroadcast:
                type: boolean
  examples:
    - name: getrawmempool simple list
      params:
        - name: verbose
          value: false
        - name: mempool_sequence
          value: false
      result:
        name: result
        value:
          txids:
            - "5f10285c6fee80d1982df9893742d0c5aed5aa4fcca3aa4331d7fa071ba4d5ce"
            - "30ad6eacfc8b83de7b91f8df705e081945c9d8a7a05506de38a1842dd856550b"
          mempool_sequence: 1386211

    - name: getrawmempool with verbose true
      params:
        - name: verbose
          value: true
      result:
        name: result
        value:
          "5f10285c6fee80d1982df9893742d0c5aed5aa4fcca3aa4331d7fa071ba4d5ce":
            vsize: 234
            weight: 936
            time: 1714400000
            height: 840000
            descendantcount: 2
            descendantsize: 480
            ancestorcount: 1
            ancestorsize: 234
            wtxid: "5f10285c6fee80d1982df9893742d0c5aed5aa4fcca3aa4331d7fa071ba4d5ce"
            fees:
              base: 0.0001
              modified: 0.0001
              ancestor: 0.0001
              descendant: 0.0002
            depends: []
            spentby: []
            bip125-replaceable: true
            unbroadcast: false

- name: getmempoolinfo
  summary: Retrieve information about the mempool state
  description: >
    Provides information about the TX memory pool's current state, including memory usage, transaction count,
    and relay fee settings.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params: []
  result:
    name: result
    description: Mempool state information.
    schema:
      type: object
      required:
        - loaded
        - size
        - bytes
        - usage
        - total_fee
        - maxmempool
        - mempoolminfee
        - minrelaytxfee
        - incrementalrelayfee
        - unbroadcastcount
        - fullrbf
      properties:
        loaded:
          type: boolean
          description: Whether the mempool is fully loaded.
        size:
          type: integer
          description: Number of transactions in the mempool.
        bytes:
          type: integer
          description: Total size of mempool in bytes.
        usage:
          type: integer
          description: Total dynamic memory usage for the mempool (in bytes).
        total_fee:
          type: number
          format: double
          description: Total fees of all transactions in the mempool in BTC.
        maxmempool:
          type: integer
          description: Maximum allowed memory usage for the mempool in bytes.
        mempoolminfee:
          type: number
          format: double
          description: Minimum fee rate for transactions to be accepted into the mempool (in BTC/kvB).
        minrelaytxfee:
          type: number
          format: double
          description: Minimum fee rate for relaying transactions (in BTC/kvB).
        incrementalrelayfee:
          type: number
          format: double
          description: Incremental relay fee rate used for BIP 125 replacement (in BTC/kvB).
        unbroadcastcount:
          type: integer
          description: Number of transactions waiting for initial broadcast acknowledgement.
        fullrbf:
          type: boolean
          description: Whether full Replace-by-Fee is enabled.
  examples:
    - name: getmempoolinfo example
      params: []
      result:
        name: result
        value:
          loaded: true
          size: 4889
          bytes: 13816734
          usage: 49380080
          total_fee: 0.14547621
          maxmempool: 300000000
          mempoolminfee: 0.00001000
          minrelaytxfee: 0.00001000
          incrementalrelayfee: 0.00001000
          unbroadcastcount: 0
          fullrbf: true

- name: testmempoolaccept
  summary: Test if raw transactions would be accepted by the mempool
  description: >
    Indicates whether one or more raw transactions (serialized, hex-encoded) would be accepted by the mempool.

    > ⚠ This endpoint is only available with [Blast](https://www.alchemy.com/docs/reference/introduction-to-blast) access.
  params:
    - name: rawtxs
      required: true
      description: >
        An array of hex-encoded raw transactions to test for mempool acceptance.
      schema:
        type: array
        items:
          $ref: "#/components/schemas/BTC_TX_HEX"
    - name: maxfeerate
      required: false
      description: >
        Reject transactions whose fee rate is higher than the specified value, expressed in BTC/kB.
      schema:
        type: number
  result:
    name: result
    description: Result of the mempool acceptance test for each transaction.
    schema:
      type: array
      items:
        type: object
        properties:
          txid:
            $ref: "#/components/schemas/BTC_TX_ID"
          wtxid:
            type: string
            description: Witness transaction ID, if available.
          allowed:
            type: boolean
            description: Whether the transaction would be accepted to the mempool.
          reject-reason:
            type: string
            description: Reason for rejection if not allowed.
            nullable: true
  examples:
    - name: testmempoolaccept example
      params:
        - name: rawtxs
          value:
            - "0200000000010142d6bd07c424e975fe821c978e720f9a55f9981d62c290cea5ccd06b455d79b90000000000fdffffff028096980000000000160014d3620fe180a0beb8fcc9682fe92e5a25f0feccd370cd2f0100000000160014076d998f6b12c3d1da6217d967154f42a5e0afd30247304402204549b10ea1698d4b4605be1d3bfff810f6135395386207664a66f5bb8bd1470902205fb86c95bfbe7b502195ffa65276d292fb074fe18ba171ef0a35395211384091012103cb5de30b343b35cc09b50f064eb289dd3e252f6985fc4309fba795cc950316afcfa50d00"
        - name: maxfeerate
          value: 0
      result:
        name: result
        value:
          - txid: "054183ee699ff12cf1c9f4413f421c3cf0a8febc6b82a1d8751a30f5e0fd54c0"
            wtxid: "b07f26a908955f8071620896476d6e2ca6b6610e5edc9e55f19185ca9536c8de"
            allowed: true
