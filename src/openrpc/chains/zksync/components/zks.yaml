components:
  schemas:
    CallRequest:
      type: object
      title: Call Request Object
      additionalProperties: false
      properties:
        from:
          title: From address
          description: The address the transaction is sent from.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        to:
          title: To address
          description: The address the transaction is directed to.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        gas:
          title: Gas
          description: Gas provided for the transaction execution.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        gasPrice:
          title: Gas price
          description: Gas price used for each paid gas.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        value:
          title: Value
          description: Value sent with this transaction.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        data:
          title: Data
          description: The compiled code of a contract OR the hash of the invoked method signature and encoded parameters.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/bytes"
        nonce:
          title: Nonce
          description: The number of transactions sent from the address.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
    FeeEstimate:
      type: object
      title: Fee Estimate
      required:
        - gas_limit
        - max_fee_per_gas
        - max_priority_fee_per_gas
        - gas_per_pubdata_limit
      properties:
        gas_limit:
          title: Gas limit
          description: The maximum amount of gas that can be used.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        max_fee_per_gas:
          title: Max fee per gas
          description: The maximum fee per unit of gas that the sender is willing to pay.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        max_priority_fee_per_gas:
          title: Max priority fee per gas
          description: The maximum priority fee per unit of gas to incentivize miners.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        gas_per_pubdata_limit:
          title: Gas per pubdata limit
          description: The gas limit per unit of public data.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
    BridgeContracts:
      type: object
      title: Bridge Contracts
      required:
        - l1Erc20DefaultBridge
        - l2Erc20DefaultBridge
        - l1WethBridge
        - l2WethBridge
      properties:
        l1Erc20DefaultBridge:
          title: L1 ERC-20 Default Bridge
          description: Address of the default ERC-20 bridge on Layer 1.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        l2Erc20DefaultBridge:
          title: L2 ERC-20 Default Bridge
          description: Address of the default ERC-20 bridge on Layer 2.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        l1WethBridge:
          title: L1 WETH Bridge
          description: Address of the Wrapped Ethereum (WETH) bridge on Layer 1.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        l2WethBridge:
          title: L2 WETH Bridge
          description: Address of the Wrapped Ethereum (WETH) bridge on Layer 2.
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
    LogProof:
      type: object
      title: Log Proof
      required:
        - proof
        - id
        - root
      properties:
        proof:
          type: array
          items:
            $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Array of strings, each representing a piece of the proof for the specified log.
        id:
          type: integer
          description: Identifier of the log within the transaction.
        root:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Root hash of the proof, anchoring it to a specific state in the blockchain.
    BlockDetails:
      type: object
      title: Block Details
      required:
        - number
        - l1BatchNumber
        - timestamp
        - l1TxCount
        - l2TxCount
        - rootHash
        - status
        - commitTxHash
        - committedAt
        - proveTxHash
        - provenAt
        - executeTxHash
        - executedAt
        - l1GasPrice
        - l2FairGasPrice
        - baseSystemContractsHashes
        - operatorAddress
        - protocolVersion
      properties:
        number:
          type: integer
          description: Number of the block.
        l1BatchNumber:
          type: integer
          description: Corresponding L1 batch number.
        timestamp:
          type: integer
          description: Unix timestamp when the block was committed.
        l1TxCount:
          type: integer
          description: Number of L1 transactions included in the block.
        l2TxCount:
          type: integer
          description: Number of L2 transactions included in the block.
        rootHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Root hash of the block's state after execution.
        status:
          type: string
          description: Current status of the block (e.g., verified, executed).
        commitTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the commit operation on L1.
        committedAt:
          type: string
          description: Timestamp when the block was committed on L1.
        proveTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the proof submission on L1.
        provenAt:
          type: string
          description: Timestamp when the proof was submitted on L1.
        executeTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the execution on L1.
        executedAt:
          type: string
          description: Timestamp when the block execution was completed on L1.
        l1GasPrice:
          type: integer
          description: L1 gas price at the time of the block's execution.
        l2FairGasPrice:
          type: integer
          description: Fair gas price on L2 at the time of the block's execution.
        baseSystemContractsHashes:
          type: object
          properties:
            bootloader:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
              description: Hash of the bootloader system contract.
            default_aa:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
              description: Hash of the default AA system contract.
        operatorAddress:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
          description: Address of the operator who committed the block.
        protocolVersion:
          type: string
          description: Version of the zkSync protocol the block was committed under.
    TransactionDetails:
      type: object
      title: Transaction Details
      required:
        - isL1Originated
        - status
        - fee
        - gasPerPubdata
        - initiatorAddress
        - receivedAt
        - ethCommitTxHash
        - ethProveTxHash
        - ethExecuteTxHash
      properties:
        isL1Originated:
          type: boolean
          description: Indicates whether the transaction originated on Layer 1.
        status:
          type: string
          description: Current status of the transaction (e.g., verified).
        fee:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
          description: Transaction fee.
        gasPerPubdata:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
          description: Gas amount per unit of public data for this transaction.
        initiatorAddress:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
          description: Address of the transaction initiator.
        receivedAt:
          type: string
          description: Timestamp when the transaction was received.
        ethCommitTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the commit operation.
        ethProveTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the proof submission.
        ethExecuteTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Transaction hash of the execution.
    uint32:
      title: hex encoded 32-bit unsigned integer
      type: string
      pattern: ^0x[0-9a-fA-F]{1,8}$
    Bytecode:
      type: array
      title: Bytecode
      description: Array of bytes representing the bytecode.
      items:
        type: integer
        minimum: 0
        maximum: 255
    MessageProof:
      type: object
      title: Message Proof
      required:
        - proof
        - root
        - id
      properties:
        proof:
          type: array
          items:
            $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Array of strings, each representing a piece of the proof.
        root:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Root hash of the proof.
        id:
          type: integer
          description: Identifier of the message within the block.
    L1BatchDetails:
      type: object
      title: L1 Batch Details
      required:
        - number
        - timestamp
        - l1TxCount
        - l2TxCount
        - rootHash
        - status
        - commitTxHash
        - committedAt
        - proveTxHash
        - provenAt
        - executeTxHash
        - executedAt
        - l1GasPrice
        - l2FairGasPrice
        - baseSystemContractsHashes
      properties:
        number:
          type: integer
          description: L1 batch number.
        timestamp:
          type: integer
          description: Unix timestamp when the batch was processed.
        l1TxCount:
          type: integer
          description: Number of L1 transactions included in the batch.
        l2TxCount:
          type: integer
          description: Number of L2 transactions associated with this batch.
        rootHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Root hash of the state after processing the batch.
        status:
          type: string
          description: Current status of the batch (e.g., verified).
        commitTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Ethereum transaction hash for the commit operation.
        committedAt:
          type: string
          description: Timestamp when the batch was committed on Ethereum.
        proveTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Ethereum transaction hash for the proof submission.
        provenAt:
          type: string
          description: Timestamp when the proof was submitted.
        executeTxHash:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Ethereum transaction hash for the execution.
        executedAt:
          type: string
          description: Timestamp when the execution was completed.
        l1GasPrice:
          type: integer
          description: Gas price on L1 at the time of batch processing.
        l2FairGasPrice:
          type: integer
          description: Fair gas price on L2 at the time of batch processing.
        baseSystemContractsHashes:
          type: object
          properties:
            bootloader:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
              description: Hash of the bootloader system contract.
            default_aa:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
              description: Hash of the default AA system contract.
    AccountProof:
      type: object
      title: Account Proof
      required:
        - address
        - storageProof
      properties:
        address:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
          description: Account address associated with the storage proofs.
        storageProof:
          type: array
          items:
            $ref: "#/components/schemas/StorageProof"
          description: Array of storage proofs for the requested keys.
    StorageProof:
      type: object
      title: Storage Proof
      required:
        - key
        - proof
        - value
        - index
      properties:
        key:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/bytes32"
          description: Storage key for which the proof is provided.
        proof:
          type: array
          items:
            $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
          description: Merkle proof hashes from root to leaf.
        value:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/bytes32"
          description: Value stored in the specified storage key.
        index:
          type: integer
          description: 1-based index representing the position of the tree entry within the Merkle tree.
    RawTransaction:
      type: object
      title: Raw Transaction
      required:
        - common_data
        - execute
        - received_timestamp_ms
        - raw_bytes
      properties:
        common_data:
          $ref: "#/components/schemas/TransactionCommonData"
        execute:
          $ref: "#/components/schemas/TransactionExecute"
        received_timestamp_ms:
          type: integer
          description: Timestamp when the transaction was received, in milliseconds.
        raw_bytes:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/bytes"
          description: Raw bytes of the transaction as a hexadecimal string.
    TransactionCommonData:
      type: object
      title: Transaction Common Data
      properties:
        L2:
          type: object
          properties:
            nonce:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
            fee:
              $ref: "#/components/schemas/TransactionFee"
            initiatorAddress:
              $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
            signature:
              type: array
              items:
                type: integer
                minimum: 0
                maximum: 255
            transactionType:
              type: string
            input:
              type: object
              properties:
                hash:
                  $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
                data:
                  type: array
                  items:
                    type: integer
                    minimum: 0
                    maximum: 255
            paymasterParams:
              type: object
              properties:
                paymaster:
                  $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
                paymasterInput:
                  type: array
                  items:
                    type: integer
                    minimum: 0
                    maximum: 255
    TransactionFee:
      type: object
      properties:
        gas_limit:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        max_fee_per_gas:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        max_priority_fee_per_gas:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        gas_per_pubdata_limit:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
    TransactionExecute:
      type: object
      properties:
        contractAddress:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/address"
        calldata:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/bytes"
        value:
          $ref: "../../_shared/components/base-types.yaml#/components/schemas/uint"
        factoryDeps:
          type: array
          items:
            $ref: "../../_shared/components/base-types.yaml#/components/schemas/hash32"
