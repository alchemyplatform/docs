- name: rundler_maxPriorityFeePerGas
  summary: Returns a fee per gas that is an estimate of the priority fee for Rundler endpoints.
  params: []
  result:
    name: Estimated priority fee
    description: The estimated priority fee per gas.
    schema:
      $ref: "#/components/schemas/uint256"
  examples:
    - name: rundler_maxPriorityFeePerGas example
      params: []
      result:
        jsonrpc: "2.0"
        id: 1
        result: "0xb1770efb14906e509893b6190359658208ae64d0c56e22f748a1b0869885559e"

- name: eth_getUserOperationReceipt
  summary: Get the UserOperationReceipt based on the userOpHash.
  params:
    - name: userOpHash
      required: true
      description: The userOpHash of the UserOperation to get the receipt for.
      schema:
        $ref: "#/components/schemas/hash32"
  result:
    name: UserOperationReceipt
    description: UserOperationReceipt object representing the outcome of a UserOperation.
    schema:
      type: object
      properties:
        entrypointV06Response:
          $ref: "#/components/schemas/UserOperationV06"
        entrypointV07Response:
          $ref: "#/components/schemas/UserOperationV07"
  examples:
    - name: eth_getUserOperationReceipt example
      params:
        - name: userOpHash
          value: "0x93c06f3f5909cc2b192713ed9bf93e3e1fde4b22fcd2466304fa404f9b80ff90"
      result:
        jsonrpc: "2.0"
        id: 1
        result:
          userOpHash: "0x77c0b560eb0b042902abc5613f768d2a6b2d67481247e9663bf4d68dec0ca122"
          entryPoint: "0xc944E90C64B2c07662A292be6244BDf05Cda44a7"
          sender: "0x742d35Cc6634C0532925a3b844Bc454e4438f44e"
          nonce: 42
          paymaster: "0x7A0A0d159218E6a2f407B99173A2b12A6DDfC2a6"
          actualGasCost: 21000
          actualGasUsed: 314159
          success: true
          reason: ""
          logs: []
          receipt:
            transactionHash: "0x8fc90a6c3ee3001cdcbbb685b4fbe67b1fa2bec575b15b0395fea5540d0901ae"
            blockHash: "0x58a945e1558810523df00490ff28cbe111b37851c44679ce5be1eeaebb4b4907"
            blockNumber: "0xeb8822"
            transactionIndex: "0x4e"

- name: eth_supportedEntryPoints
  summary: Returns an array of the entryPoint addresses supported by the client.
  params: []
  result:
    name: Supported entryPoints
    description: Array of supported entryPoint addresses.
    schema:
      type: array
      items:
        $ref: "#/components/schemas/address"
  examples:
    - name: eth_supportedEntryPoints example
      params: []
      result:
        jsonrpc: "2.0"
        id: 1
        result:
          - "0xcd01C8aa8995A59eB7B2627E69b40e0524B5ecf8"
          - "0x7A0A0d159218E6a2f407B99173A2b12A6DDfC2a6"

- name: eth_getUserOperationByHash
  summary: Return a UserOperation based on a userOpHash.
  params:
    - name: userOpHash
      required: true
      description: The userOpHash of the UserOperation to retrieve.
      schema:
        $ref: "#/components/schemas/hash32"
  result:
    name: UserOperation
    description: The UserOperation object.
    schema:
      type: object
      properties:
        entrypointV06Response:
          $ref: "#/components/schemas/UserOperationV06"
        entrypointV07Response:
          $ref: "#/components/schemas/UserOperationV07"
  examples:
    - name: eth_getUserOperationByHash example
      params:
        - name: userOpHash
          value: "0x77c0b560eb0b042902abc5613f768d2a6b2d67481247e9663bf4d68dec0ca122"
      result:
        jsonrpc: "2.0"
        id: 1
        result:
          sender: "0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045"
          nonce: 1
          initCode: "0x"
          callData: "0x"
          callGasLimit: "0x0"
          verificationGasLimit: "0x0"
          preVerificationGas: "0x0"
          maxFeePerGas: "0x0"
          maxPriorityFeePerGas: "0x0"
          paymasterAndData: "0x"
          signature: "0x"
          entryPoint: "0x"
          blockNumber: "0x"
          blockHash: "0x"
          transactionHash: "0x"

- name: eth_sendUserOperation
  summary: Sends a UserOperation to the given EVM network.
  params:
    - name: UserOperation
      required: true
      description: The UserOperation object (v0.6 or v0.7).
      schema:
        oneOf:
          - $ref: "#/components/schemas/UserOperationV06"
          - $ref: "#/components/schemas/UserOperationV07"
    - name: Entrypoint address
      required: true
      description: The entrypoint address through which the operation is sent.
      schema:
        $ref: "#/components/schemas/address"
  result:
    name: userOpHash
    description: The calculated userOpHash for the UserOperation.
    schema:
      $ref: "#/components/schemas/uint256"
  examples:
    - name: eth_sendUserOperation example
      params:
        - name: UserOperation
          value: { sender: "0x...", nonce: "0x...", callData: "0x..." }
        - name: Entrypoint address
          value: "0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"
      result:
        jsonrpc: "2.0"
        id: 1
        result: "0x1234...5678"

- name: eth_estimateUserOperationGas
  summary: Estimates the gas values for a UserOperation.
  params:
    - name: UserOperation
      required: true
      description: The UserOperation object (v0.6 or v0.7) with optional gas fields.
      schema:
        oneOf:
          - $ref: "#/components/schemas/UserOperationV06"
          - $ref: "#/components/schemas/UserOperationV07"
    - name: Entrypoint address
      required: true
      description: The entrypoint address through which the operation is sent.
      schema:
        $ref: "#/components/schemas/address"
  result:
    name: Gas estimation
    description: Gas values estimated for the UserOperation.
    schema:
      type: object
      properties:
        entrypointV06Response:
          type: object
          title: Entrypoint v0.6 Response
          properties:
            preVerificationGas:
              $ref: "#/components/schemas/uint256"
              description: Gas overhead of this UserOperation.
            verificationGasLimit:
              $ref: "#/components/schemas/uint256"
              description: Actual gas used by the validation of this UserOperation.
            callGasLimit:
              $ref: "#/components/schemas/uint256"
              description: Value used by inner account execution.
        entrypointV07Response:
          type: object
          title: Entrypoint v0.7 Response
          properties:
            preVerificationGas:
              $ref: "#/components/schemas/uint256"
              description: Gas overhead of this UserOperation.
            verificationGasLimit:
              $ref: "#/components/schemas/uint256"
              description: Actual gas used by the validation of this UserOperation.
            callGasLimit:
              $ref: "#/components/schemas/uint256"
              description: Value used by inner account execution.
            paymasterVerificationGasLimit:
              $ref: "#/components/schemas/uint256"
              description: Value used by the paymaster during verification.
  examples:
    - name: eth_estimateUserOperationGas example
      params:
        - name: UserOperation
          value: { sender: "0x...", nonce: "0x...", callData: "0x..." }
        - name: Entrypoint address
          value: "0x5FF137D4b0FDCD49DcA30c7CF57E578a026d2789"
      result:
        jsonrpc: "2.0"
        id: 1
        result:
          preVerificationGas: "0x1"
          verificationGasLimit: "0x1"
          callGasLimit: "0x1"
          paymasterVerificationGasLimit: "0x1"
